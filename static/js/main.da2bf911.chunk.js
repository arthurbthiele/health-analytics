(this["webpackJsonphealth-monitor"]=this["webpackJsonphealth-monitor"]||[]).push([[0],{230:function(e,t,a){},614:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(44),s=a.n(r),o=(a(230),a(2)),c=function(e){var t=e.children;return Object(o.jsx)("div",{style:{width:window.innerWidth,height:window.innerHeight,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(o.jsx)("div",{style:{padding:24,width:"80%",height:"100%",position:"absolute",left:0,top:0},children:t})})},u=a(14),d=a(26),l=a(215),m="verdana",p={primary:{small:{fontSize:14,fontFamily:m},medium:{},large:{},display:{fontSize:20,fontFamily:m,color:"#d63e13"}},secondary:{footer:{fontSize:12,fontFamily:m,color:"#333333"},small:{},medium:{},large:{},display:{}}},v=function(e){var t=e.style,a=e.children;return Object(o.jsx)("div",{style:Object(d.a)(Object(d.a)({},p.primary.small),t),children:a})},f=a(136),b=a.n(f),j=a(137),h=a.n(j),y=a(15);var x=function(e){var t={attributeNamePrefix:"",attrNodeName:"attr",textNodeName:"#text",ignoreAttributes:!1,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,trimValues:!0,cdataTagName:"__cdata",cdataPositionChar:"\\c",parseTrueNumberOnly:!1,numParseOptions:{hex:!0,leadingZeros:!0},arrayMode:!1,attrValueProcessor:function(e){return b.a.decode(e,{isAttributeValue:!0})},tagValueProcessor:function(e){return b.a.decode(e)},stopNodes:["parse-me-as-string"]};if(!0===h.a.validate(e)){var a=h.a.parse(e,t);if(function(e){if(!e.HealthData)return!1;if(!e.HealthData.Record)return!1;var t,a=Object(y.a)(e.HealthData.Record);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(!n.attr)return!1;if(!n.attr.type)return!1}}catch(i){a.e(i)}finally{a.f()}return!0}(a))return a}},g=a(659);function O(e){var t=function(e){return Object(n.useCallback)((function(t){t.forEach((function(t){var a=new FileReader;a.onabort=function(){return console.log("file reading was aborted")},a.onerror=function(){return console.log("file reading has failed")},a.onload=function(){return setTimeout((function(){var t=a.result,n=x(t);void 0!==n?e(n):alert("Uploaded file does not have expected properties")}),1)},a.readAsText(t)}))}),[])}(e.onUpload),a=Object(l.a)({onDrop:t}),i=a.getRootProps,r=a.getInputProps;return Object(o.jsx)(g.a,{sx:{borderRadius:"16px",bgcolor:"background.paper",borderColor:"text.primary",m:1,border:1,width:240},children:Object(o.jsxs)("div",Object(d.a)(Object(d.a)({},i()),{},{children:[Object(o.jsx)("input",Object(d.a)({},r())),Object(o.jsx)(v,{style:{padding:"5px"},children:"Click here to upload an XML file"})]}))})}var S=a(23);function k(e){var t={};return e.HealthData.Record.filter((function(e){return void 0!==e.attr.value&&void 0!==e.attr.startDate&&void 0!==e.attr.type&&void 0!==e.attr.unit})).forEach((function(e){var a=function(e){var t=S.DateTime.fromISO(function(e){var t=e.split(" ");return t[0]+"T"+t[1]+t[2]}(e.attr.startDate)),a=Number(e.attr.value);return{x:t,y:a}}(e),n=e.attr.type.replace("HKQuantityTypeIdentifier","").replace("HKDataType","").replace(/([a-z])([A-Z])/g,"$1 $2"),i=e.attr.unit;n in t?t[n].dataSet.push(a):t[n]={type:n,unit:i,dataSet:[a]}})),console.log(Object.keys(t)),function(e){for(var t=0,a=Object.values(e);t<a.length;t++){a[t].dataSet.sort((function(e,t){return e.x.diff(t.x).milliseconds}))}return e}(t)}var D=a(216);a(348);function T(e){var t=e.timeSeries,a={labels:t.dataSet.map((function(e){return e.x})),datasets:[{label:t.type,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:t.dataSet.map((function(e){return e.y}))}]};return Object(o.jsx)(D.a,{data:a,options:{title:{display:!0,text:t.type},legend:{display:!0,position:"right"},scales:{x:{type:"time",display:!0,title:{display:!0}},y:{display:!0,title:{display:!0,text:t.unit}}}}})}function A(){return Object(o.jsx)("div",{})}var w=a(657),C=a(655),H=a(656),N=a(653);function R(e){var t=e.timeSeriesCollection,a=e.selectedTimeSeries,n=e.setSelectedTimeSeries;return Object(o.jsx)(g.a,{sx:{minWidth:120,maxWidth:500,padding:1},children:Object(o.jsxs)(H.a,{fullWidth:!0,children:[Object(o.jsx)(w.a,{id:"timeseries-select",children:"Data Set"}),Object(o.jsx)(N.a,{labelId:"timeseries-select-label",id:"timeseries-select",value:a,label:"Select a data type to explore",onChange:function(e){n(e.target.value)},children:Object.values(t).map((function(e,t){return Object(o.jsx)(C.a,{value:e.type,children:e.type},t)}))})]})})}var W=a(213),P=a.n(W),E=a(660);function B(e){var t=e.onDataGeneration;return Object(o.jsx)(E.a,{onClick:function(){return t(function(){var e,t=S.DateTime.now(),a=S.DateTime.now().minus({days:20}),n=function(e){var t=e.start.startOf("day"),a=[];for(;t<e.end;)a.push(t),t=t.plus({days:1});return a}(S.Interval.fromDateTimes(a,t)),i={},r=Object(y.a)(V);try{var s=function(){var t=e.value,a=P()(t.statistics.mean,t.statistics.dev),r=n.map((function(e){return{x:e,y:a.next().value}}));i[t.name]={type:t.name,unit:t.unit,dataSet:r}};for(r.s();!(e=r.n()).done;)s()}catch(o){r.e(o)}finally{r.f()}return i}())},children:"Click me"})}var V=[{name:"Height",unit:"cm",statistics:{mean:180,dev:.01}},{name:"Body Mass",unit:"kg",statistics:{mean:70,dev:2}},{name:"Heart Rate",unit:"count/min",statistics:{mean:70,dev:15}},{name:"Step Count",unit:"count",statistics:{mean:1e3,dev:100}},{name:"Distance Walking Running",unit:"km",statistics:{mean:1,dev:.3}},{name:"Basal Energy Burned",unit:"kJ",statistics:{mean:300,dev:10}},{name:"Active Energy Burned",unit:"kJ",statistics:{mean:200,dev:20}},{name:"Flights Climbed",unit:"count",statistics:{mean:4,dev:1}},{name:"Apple Exercise Time",unit:"min",statistics:{mean:1,dev:.01}},{name:"Resting Heart Rate",unit:"count/min",statistics:{mean:60,dev:10}},{name:"VO2Max",unit:"mL/min\xb7kg",statistics:{mean:1,dev:2}},{name:"Walking Heart Rate Average",unit:"count/min",statistics:{mean:100,dev:15}},{name:"Environmental Audio Exposure",unit:"dBASPL",statistics:{mean:70,dev:5}},{name:"Headphone Audio Exposure",unit:"dBASPL",statistics:{mean:65,dev:10}},{name:"Walking Double Support Percentage",unit:"%",statistics:{mean:.28,dev:.02}},{name:"Six Minute Walk Test Distance",unit:"m",statistics:{mean:500,dev:1}},{name:"Apple Stand Time",unit:"min",statistics:{mean:3.5,dev:.5}},{name:"Walking Speed",unit:"km/hr",statistics:{mean:4,dev:1}},{name:"Walking Step Length",unit:"cm",statistics:{mean:65,dev:8}},{name:"Walking Asymmetry Percentage",unit:"%",statistics:{mean:.2,dev:.01}},{name:"Stair Ascent Speed",unit:"m/s",statistics:{mean:.4,dev:.06}},{name:"Stair Descent Speed",unit:"m/s",statistics:{mean:.5,dev:.06}},{name:"Sleep Duration Goal",unit:"hr",statistics:{mean:7.5,dev:.2}},{name:"Heart Rate Variability SDNN",unit:"ms",statistics:{mean:80,dev:15}}];function I(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(""),s=Object(u.a)(r,2),c=s[0],d=s[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(O,{onUpload:function(e){i(k(e))}}),Object(o.jsx)(A,{}),Object(o.jsx)(B,{onDataGeneration:function(e){i(e)}}),!!a&&Object(o.jsx)(R,{timeSeriesCollection:a,selectedTimeSeries:c,setSelectedTimeSeries:d}),!!a&&!!a[c]&&Object(o.jsx)(T,{timeSeries:a[c]})]})}var M=function(){return Object(o.jsx)(c,{children:Object(o.jsx)(I,{})})};s.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(M,{})}),document.getElementById("root"))}},[[614,1,2]]]);
//# sourceMappingURL=main.da2bf911.chunk.js.map