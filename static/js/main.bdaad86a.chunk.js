(this["webpackJsonphealth-monitor"]=this["webpackJsonphealth-monitor"]||[]).push([[0],{139:function(e,t,r){},259:function(e,t,r){"use strict";r.r(t);var a=r(0),i=r.n(a),n=r(36),o=r.n(n),l=(r(139),r(2)),c=function(e){var t=e.children;return Object(l.jsx)("div",{style:{width:window.innerWidth,height:window.innerHeight,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(l.jsx)("div",{style:{padding:24,width:"80%",height:"100%",position:"absolute",left:0,top:0},children:t})})},s=r(14),d=r(22),u=r(126),p="verdana",f={primary:{small:{fontSize:14,fontFamily:p},medium:{},large:{},display:{fontSize:20,fontFamily:p,color:"#d63e13"}},secondary:{footer:{fontSize:12,fontFamily:p,color:"#333333"},small:{},medium:{},large:{},display:{}}},b=function(e){var t=e.style,r=e.children;return Object(l.jsx)("div",{style:Object(d.a)(Object(d.a)({},f.primary.small),t),children:r})},j=r(90),h=r.n(j),m=r(91),v=r.n(m),x=r(16);var y=function(e){var t={attributeNamePrefix:"",attrNodeName:"attr",textNodeName:"#text",ignoreAttributes:!1,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,trimValues:!0,cdataTagName:"__cdata",cdataPositionChar:"\\c",parseTrueNumberOnly:!1,numParseOptions:{hex:!0,leadingZeros:!0},arrayMode:!1,attrValueProcessor:function(e){return h.a.decode(e,{isAttributeValue:!0})},tagValueProcessor:function(e){return h.a.decode(e)},stopNodes:["parse-me-as-string"]};if(!0===v.a.validate(e)){var r=v.a.parse(e,t);if(function(e){if(!e.HealthData)return!1;if(!e.HealthData.Record)return!1;var t,r=Object(x.a)(e.HealthData.Record);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(!a.attr)return!1;if(!a.attr.type)return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(r))return r}},O=r(305);function g(e){var t=function(e){return Object(a.useCallback)((function(t){t.forEach((function(t){var r=new FileReader;r.onabort=function(){return console.log("file reading was aborted")},r.onerror=function(){return console.log("file reading has failed")},r.onload=function(){return setTimeout((function(){var t=r.result,a=y(t);void 0!==a?e(a):alert("Uploaded file does not have expected properties")}),1)},r.readAsText(t)}))}),[])}(e.onUpload),r=Object(u.a)({onDrop:t}),i=r.getRootProps,n=r.getInputProps;return Object(l.jsx)(O.a,{sx:{borderRadius:"16px",bgcolor:"background.paper",borderColor:"text.primary",m:1,border:1,width:240},children:Object(l.jsxs)("div",Object(d.a)(Object(d.a)({},i()),{},{children:[Object(l.jsx)("input",Object(d.a)({},n())),Object(l.jsx)(b,{style:{padding:"5px"},children:"Click here to upload an XML file"})]}))})}var S=r(23);function w(e){var t={};return e.HealthData.Record.filter((function(e){return void 0!==e.attr.value&&void 0!==e.attr.startDate&&void 0!==e.attr.type&&void 0!==e.attr.unit})).forEach((function(e){var r=function(e){var t=S.DateTime.fromISO(function(e){var t=e.split(" ");return t[0]+"T"+t[1]+t[2]}(e.attr.startDate)),r=Number(e.attr.value);return{x:t,y:r}}(e),a=e.attr.type.replace("HKQuantityTypeIdentifier","").replace("HKDataType","").replace(/([a-z])([A-Z])/g,"$1 $2"),i=e.attr.unit;a in t?t[a].dataSet.push(r):t[a]={type:a,unit:i,dataSet:[r]}})),function(e){for(var t=0,r=Object.values(e);t<r.length;t++){r[t].dataSet.sort((function(e,t){return t.x.diff(e.x).milliseconds}))}return e}(t)}var T=r(127);r(257);function N(e){var t=e.timeSeries,r={labels:t.dataSet.map((function(e){return e.x})),datasets:[{label:t.type,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:t.dataSet.map((function(e){return e.y}))}]};return Object(l.jsx)(T.a,{data:r,options:{title:{display:!0,text:t.type},legend:{display:!0,position:"right"},scales:{x:{type:"time",display:!0,title:{display:!0}},y:{display:!0,title:{display:!0,text:t.unit}}}}})}function C(){return Object(l.jsx)("div",{})}var D=r(303),H=r(301),P=r(302),k=r(300);function A(e){var t=e.timeSeriesCollection,r=e.selectedTimeSeries,a=e.setSelectedTimeSeries;return Object(l.jsx)(O.a,{sx:{minWidth:120,maxWidth:500,padding:1},children:Object(l.jsxs)(P.a,{fullWidth:!0,children:[Object(l.jsx)(D.a,{id:"timeseries-select",children:"Data Set"}),Object(l.jsx)(k.a,{labelId:"timeseries-select-label",id:"timeseries-select",value:r,label:"Select a data type to explore",onChange:function(e){a(e.target.value)},children:Object.values(t).map((function(e,t){return Object(l.jsx)(H.a,{value:e.type,children:e.type},t)}))})]})})}function I(){var e=Object(a.useState)(),t=Object(s.a)(e,2),r=t[0],i=t[1],n=Object(a.useState)(""),o=Object(s.a)(n,2),c=o[0],d=o[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)(g,{onUpload:function(e){i(w(e))}}),Object(l.jsx)(C,{}),!!r&&Object(l.jsx)(A,{timeSeriesCollection:r,selectedTimeSeries:c,setSelectedTimeSeries:d}),!!r&&!!r[c]&&Object(l.jsx)(N,{timeSeries:r[c]})]})}var R=function(){return Object(l.jsx)(c,{children:Object(l.jsx)(I,{})})};o.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(R,{})}),document.getElementById("root"))}},[[259,1,2]]]);
//# sourceMappingURL=main.bdaad86a.chunk.js.map